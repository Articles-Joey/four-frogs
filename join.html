<html>

<head>
  <title>Four Frogs</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="shortcut icon" href="assets/favicon.png">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link href="https://fonts.googleapis.com/css?family=Dokdo" rel="stylesheet">
  <link href="hwttps://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">

  <link rel="stylesheet" href="./assets/css/styles.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

</head>

<body>

  <section id="startScreen">
    <div id="startScreen_background"></div>

    <div class="login-form" style="font-family: 'Dokdo', cursive; font-size: 1.5rem;">
      <h1 class="mb-0" style="font-family: 'Dokdo', cursive;">Welcome</h1>

        <div class="form-group">
          <label class="mb-0" for="room">Room</label>
          <br>

          <div class="d-inline-block">
            <button id="room-1" class="btn btn-success active d-block">
              1<br>0/4
            </button>
            <!-- <div class="room-time">5:00</div> -->
          </div>

        </div>
  
        <div class="form-group nickname-group">

          <label class="mb-0" for="nickname">Nickname</label>
          <input class="form-control" type="text" placeholder="" id="nickname" name="nickname" maxlength="8" autocomplete="off">
          <small id="emailHelp" class="form-text text-muted" style="color: #4d5256!important">Visible To All Players</small>

          <div id="new-name">
            <i class="fas fa-redo"></i>
          </div>

        </div>
  
        <div>
          <button id="submit" class="btn btn-success w-100" type="submit">Play</button>
        </div>

    </div>

    <div style="font-family: 'Dokdo', cursive; font-size: 1.5rem;" class="version">VERSION 0.9</div>
  </section>

</body>

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous">
</script>
<script 
src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
crossorigin="anonymous">
</script>
<script>

    $('#room-1,#room-2,#room-3,#room-4,#room-5,#room-6,#room-7,#room-8').click( function() {
      $('#room-1,#room-2,#room-3,#room-4,#room-5,#room-6,#room-7,#room-8').removeClass("active");
      console.log(this);
      $(this).addClass("active");
    });

    var streamer = false;
    $('#streamer').click( function() {
      if (!streamer) {
        $('#streamer').html('<i class="far fa-eye-slash"></i>');
        $('#input-room').css('-webkit-text-security', 'disc');
        streamer = !streamer;
      } else {
        $('#streamer').html('<i class="far fa-eye"></i>');
        $('#input-room').css('-webkit-text-security', 'none');
        streamer = !streamer;
      }
    });

    $('#submit').click( function() {
        document.cookie = 'nickname='+$('#nickname').val()+'; path=/';
        doSomething();
    });

    var names = ['Hypnotoad', 'Pepe', 'Mr. Toad', 'Frogger', 'Kermit', 'Genghis Frog', 'Tiana', 'Naveen', 'Throg', 'Frog', 'Toad'];
    var min = 0;
    var max = names.length;

    // If you are interested that much...
    // Hypnotoad: Futurama
    // Pepe: Pepe the Frog Meme
    // Mr. Toad: The Wind in the Willows Book
    // Frogger: Arcade Game Frogger
    // Kermit: Muppets
    // Genghis Frog: TMNT
    // Tiana: The Princess and the Frog (2009)
    // Naveen: The Princess and the Frog (2009)
    // Throg: Marvel Comics
    // Frog: Frog and Toad Book
    // Toad: Frog: Frog and Toad Book
    // 👍
    newName();

    $('#new-name').click(() => {
      newName();
    });

    function newName() {
      var random = Math.floor(Math.random() * (+max - +min) + +min); 
      $('#nickname').val(names[random]);
    }

    function getCookie(name) {
        var dc = document.cookie;
        var prefix = name + "=";
        var begin = dc.indexOf("; " + prefix);
        if (begin == -1) {
            begin = dc.indexOf(prefix);
            if (begin != 0) return null;
        }
        else
        {
            begin += 2;
            var end = document.cookie.indexOf(";", begin);
            if (end == -1) {
            end = dc.length;
            }
        }
        
        return decodeURI(dc.substring(begin + prefix.length, end));
    } 

    function doSomething() {
        var myCookie = getCookie("nickname");

        if (myCookie == null) {
            // do cookie doesn't exist stuff;
            window.location.replace("../join.html");
            console.log("No Cookie :(");
        }
        else {
            // do cookie exists stuff;
            console.log("Cookie :)");
            window.location.replace("/");
        }
    }
</script>

</html>